<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>shell数组的定义</title>
    <url>/2019/10/29/shell%E6%95%B0%E7%BB%84%E7%9A%84%E5%AE%9A%E4%B9%89/</url>
    <content><![CDATA[<h1 id="shell数组"><a href="#shell数组" class="headerlink" title="shell数组"></a>shell数组</h1><h3 id="01-shell数组的分类"><a href="#01-shell数组的分类" class="headerlink" title="01. shell数组的分类"></a>01. shell数组的分类</h3><ul>
<li><strong>普通数组：只能以数字作为索引(也称之为下标)</strong></li>
<li><strong>关联数组：可以使用字符作为索引</strong></li>
</ul><h3 id="02-shell数组常用定义方式"><a href="#02-shell数组常用定义方式" class="headerlink" title="02. shell数组常用定义方式"></a>02. shell数组常用定义方式</h3><p>定义普通数组</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">定义普通数组1：</span></span><br><span class="line">[root@shell ~]# array=(one two three)</span><br><span class="line"><span class="meta">#</span><span class="bash">定义普通数组2:</span></span><br><span class="line">[root@shell ~]# array=([0]=one [1]=two [2]=three)</span><br><span class="line"><span class="meta">#</span><span class="bash">定义普通数组3:</span></span><br><span class="line">[root@shell ~]# array[0]=one</span><br><span class="line">[root@shell ~]# array[1]=two</span><br><span class="line">[root@shell ~]# array[2]=three</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">不连续的索引赋值，双引号将里面的内容当成一个元素</span></span><br><span class="line">[root@shell ~]# array_1=(oldboy name [5]=linux "centos shell" [10]=kvm)</span><br><span class="line">[root@shell ~]# echo $&#123;array_1[*]&#125;</span><br><span class="line">oldboy name linux centos shell kvm</span><br><span class="line">[root@shell ~]# echo $&#123;!array_1[*]&#125;</span><br><span class="line">0 1 5 6 10</span><br></pre></td></tr></table></figure><a id="more"></a>


<p>定义管理数组</p>
<blockquote>
<p>创建关联数组前需要声明</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">定义关联数组1:</span></span><br><span class="line">[root@shell ~]# declare -A oldqq</span><br><span class="line">[root@shell ~]# oldqq=([index1]=www [index2]=bbs [index3]=zhihu)</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">定义关联数组2:</span></span><br><span class="line">[root@shell ~]# declare -A oldqq</span><br><span class="line">[root@shell ~]# oldqq[index1]=www </span><br><span class="line">[root@shell ~]# oldqq[index2]=bbs </span><br><span class="line">[root@shell ~]# oldqq[index3]=zhihu</span><br></pre></td></tr></table></figure>

<h3 id="03-查看shell数组"><a href="#03-查看shell数组" class="headerlink" title="03. 查看shell数组"></a>03. 查看shell数组</h3><p>查看所有定义的普通数组</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# declare -a</span><br></pre></td></tr></table></figure>

<p>查看所有定义的关联数组</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# declare -A</span><br></pre></td></tr></table></figure>

<p>查看数组所有元素(*与@都可以)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# echo $&#123;array[*]&#125;		</span><br><span class="line">one two three</span><br><span class="line">[root@shell ~]# echo $&#123;oldqq[@]&#125;</span><br><span class="line">index1 index2 index3</span><br></pre></td></tr></table></figure>

<p>查看数组所有的索引(下标)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# echo $&#123;!array[*]&#125;		</span><br><span class="line">0 1 2</span><br><span class="line">[root@shell ~]# echo $&#123;oldqq[*]&#125;</span><br><span class="line">www bbs zhihu</span><br></pre></td></tr></table></figure>

<p>查看数组的单个元素</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# echo $&#123;array[0]&#125;</span><br><span class="line">one</span><br><span class="line">[root@shell ~]# echo $&#123;array[2]&#125;</span><br><span class="line">three</span><br><span class="line">[root@shell ~]#  echo $&#123;oldqq[index1]&#125;</span><br><span class="line">www</span><br><span class="line">[root@shell ~]#  echo $&#123;oldqq[index3]&#125;</span><br><span class="line">zhihu</span><br></pre></td></tr></table></figure>

<h3 id="04-删除shell数组"><a href="#04-删除shell数组" class="headerlink" title="04. 删除shell数组"></a>04. 删除shell数组</h3><p>删除单个数组元素</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# unset array[3]	#&lt;= 去掉下标为3的数组元素</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]&#125;</span><br><span class="line">one two three</span><br></pre></td></tr></table></figure>

<p>删除整个数组</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# unset array		 #&lt;= 删除整个数组</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]&#125;	#&lt;= 内容为空，说明删除成功</span><br></pre></td></tr></table></figure>

<h3 id="05-shell数组内容的截取和替换"><a href="#05-shell数组内容的截取和替换" class="headerlink" title="05. shell数组内容的截取和替换"></a>05. shell数组内容的截取和替换</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# array=(a b c d e)	</span><br><span class="line">[root@shell ~]# echo $&#123;!array[*]&#125;</span><br><span class="line">0 1 2 3 4</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]&#125;</span><br><span class="line">a b c d e</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]:1:3&#125;	#&lt;== 截取元素1到元素3(默认元素从0开始)</span><br><span class="line">b c d</span><br><span class="line">[root@shell ~]# array=($(echo &#123;a..g&#125;))	#&lt;== 将变量的结果赋值给数组元素</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]&#125;</span><br><span class="line">a b c d e f g</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]/a/1&#125;	#&lt;== 把数组中a替换为1，原数组未被真正修改</span><br><span class="line">1 b c d e f g</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">数组也是变量，因此也适合变量的字串处理功能</span></span><br><span class="line">[root@shell ~]# array=(abcABCabc abcdefg)</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]&#125;</span><br><span class="line">abcABCabc abcdefg</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]#*c&#125;</span><br><span class="line">ABCabc defg</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]#*b&#125;</span><br><span class="line">cABCabc cdefg</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]##*b&#125;</span><br><span class="line">c cdefg</span><br><span class="line">[root@shell ~]# echo $&#123;array[*]%b*&#125;</span><br><span class="line">abcABCa a</span><br><span class="line">[root@shell ~]# </span><br><span class="line">[root@shell ~]# echo $&#123;array[*]%%b*&#125;</span><br><span class="line">a a</span><br></pre></td></tr></table></figure>

<h3 id="06-shell数组循环打印"><a href="#06-shell数组循环打印" class="headerlink" title="06. shell数组循环打印"></a>06. shell数组循环打印</h3><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">通过C语言类型的<span class="keyword">for</span>循环</span></span><br><span class="line">[root@shell scripts]# cat test01sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">ipadd=(</span><br><span class="line">    10.0.0.11</span><br><span class="line">    10.0.0.22</span><br><span class="line">    10.0.0.33</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">for((i=0;i&lt;$&#123;#ipadd[*]&#125;;i++))</span><br><span class="line">do</span><br><span class="line">    echo "$&#123;ipadd[$i]&#125;"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">通过普通<span class="keyword">for</span>循环</span></span><br><span class="line">[root@shell scripts]# cat test02sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">ipadd=(</span><br><span class="line">    10.0.0.11</span><br><span class="line">    10.0.0.22</span><br><span class="line">    10.0.0.33</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">for i in $&#123;ipadd[*]&#125;</span><br><span class="line">do</span><br><span class="line">    echo "$i"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">两种打印结果是相同的，这里省略..</span></span><br><span class="line">[root@shell scripts]# sh test01h</span><br><span class="line">10.0.0.11</span><br><span class="line">10.0.0.22</span><br><span class="line">10.0.0.33</span><br></pre></td></tr></table></figure>

<h3 id="07-案例"><a href="#07-案例" class="headerlink" title="07. 案例:"></a>07. 案例:</h3><p> <strong>计算以下数据中性别出现的次数</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# cat sex.txt |column -t</span><br><span class="line">zhangsan     male</span><br><span class="line">lisi         female</span><br><span class="line">wangwu       male</span><br><span class="line">lili         male</span><br><span class="line">xx           female</span><br><span class="line">mayun        male</span><br><span class="line">mahuateng    male</span><br><span class="line">wangjianlin  male</span><br><span class="line">cxk          unknown</span><br></pre></td></tr></table></figure>

<p><strong>编写的脚本</strong></p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@shell ~]# cat sex.sh</span><br><span class="line"><span class="meta">#</span><span class="bash">!/bin/bash</span></span><br><span class="line">for i in `awk '&#123;print $2&#125;' /root/sex.txt`</span><br><span class="line">do</span><br><span class="line">    declare -A sex</span><br><span class="line">    let sex[$i]++</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for a in $&#123;!sex[*]&#125;</span><br><span class="line">do</span><br><span class="line">    echo "性别:$a 出现了:$&#123;sex[$a]&#125;"</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">脚本执行结果</span></span><br><span class="line">[root@shell ~]# sh sex.sh |column -t</span><br><span class="line">性别:male     出现了:6</span><br><span class="line">性别:unknown  出现了:1</span><br><span class="line">性别:female   出现了:2</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
      </tags>
  </entry>
  <entry>
    <title>数值运算</title>
    <url>/2019/10/29/%E6%95%B0%E5%80%BC%E8%BF%90%E7%AE%97/</url>
    <content><![CDATA[<p>数值运算</p><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">##只能做整数运算</span><br><span class="line">[root@shell ~]# expr 10 + 10</span><br><span class="line"><span class="number">20</span></span><br><span class="line">[root@shell ~]# expr 10 - 10</span><br><span class="line"><span class="number">0</span></span><br><span class="line">[root@shell ~]# expr 10 * 10</span><br><span class="line">expr: syntax error</span><br><span class="line">[root@shell ~]# expr 10 "*" 10</span><br><span class="line"><span class="number">100</span></span><br><span class="line">[root@shell ~]# expr 10 \* 10</span><br><span class="line"><span class="number">100</span></span><br><span class="line">[root@shell ~]# expr 10 / 10</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure><a id="more"></a>


<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">#只能做整数运算</span><br><span class="line">[root@shell ~]# let sum=10*10</span><br><span class="line">[root@shell ~]# echo $sum</span><br><span class="line"><span class="number">100</span></span><br><span class="line"></span><br><span class="line">[root@shell ~]# sum1=10</span><br><span class="line">[root@shell ~]# sum2=20</span><br><span class="line">[root@shell ~]# let $sum1+$sum2</span><br><span class="line">[root@shell ~]# let sum=$sum1+$sum2</span><br><span class="line">[root@shell ~]# echo $sum</span><br><span class="line"><span class="number">30</span></span><br></pre></td></tr></table></figure>



<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">只能做整数运算，运算符中速度最快的(大量数据时体现)</span></span><br><span class="line">[root@shell ~]# echo $((10+10))</span><br><span class="line">20</span><br><span class="line">[root@shell ~]# echo $((1-10))</span><br><span class="line">-9</span><br><span class="line">[root@shell ~]# echo $((2*10))</span><br><span class="line">20</span><br><span class="line">[root@shell ~]# echo $((2/10))</span><br><span class="line">0</span><br><span class="line">[root@shell ~]# echo $((10/2))</span><br><span class="line">5</span><br><span class="line">[root@shell ~]# echo $((10%2))</span><br><span class="line">0</span><br><span class="line">[root@shell ~]# echo $((2%10))</span><br><span class="line">2</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">使用bc计算器，可以计算小数</span></span><br><span class="line">[root@shell ~]# echo 10*2|bc</span><br><span class="line">20</span><br><span class="line">[root@shell ~]# echo 10-2|bc</span><br><span class="line">8</span><br><span class="line">[root@shell ~]# echo 10-2.5|bc</span><br><span class="line">7.5</span><br><span class="line">[root@shell ~]# echo 10*2.5|bc</span><br><span class="line">25.0</span><br><span class="line">[root@shell ~]# echo 10/2.5|bc</span><br><span class="line">4</span><br><span class="line">[root@shell ~]# echo 10+2.5|bc</span><br><span class="line">12.5</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">awk进行整数和小数运算</span></span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10-2&#125;'</span><br><span class="line">8</span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10+2&#125;'</span><br><span class="line">12</span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10*2&#125;'</span><br><span class="line">20</span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10/2&#125;'</span><br><span class="line">5</span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10/2.5&#125;'</span><br><span class="line">4</span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10*2.5&#125;'</span><br><span class="line">25</span><br><span class="line">[root@shell ~]# awk 'BEGIN&#123;print 10-2.5&#125;'</span><br><span class="line">7.5</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">python运算整数和小数</span></span><br><span class="line">[root@shell ~]# python</span><br><span class="line">Python 2.7.5 (default, Oct 30 2018, 23:45:53) </span><br><span class="line">[GCC 4.8.5 20150623 (Red Hat 4.8.5-36)] on linux2</span><br><span class="line">Type "help", "copyright", "credits" or "license" for more information.</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; 10+2.5</span></span><br><span class="line">12.5</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; 10-2.5</span></span><br><span class="line">7.5</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; 10/2.5</span></span><br><span class="line">4.0</span><br><span class="line"><span class="meta">&gt;</span><span class="bash">&gt;&gt; 10*2.5</span></span><br><span class="line">25.0</span><br></pre></td></tr></table></figure>

<p>条件表达式</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[ -f file ]	是否为文件</span><br><span class="line">[ -d dir ]  是否为目录</span><br><span class="line">[ -e file ] 是否存在</span><br><span class="line">[ -r fiel]	文件是有可读</span><br><span class="line">[ -w fiel]	文件是有可写</span><br><span class="line">[ -x fiel]	文件是可执行</span><br></pre></td></tr></table></figure>

<p>数值表达式：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[ 整数1 比较符 整数2 ]</span><br><span class="line">[ 整数1 -eq 整数2 ] 等于</span><br><span class="line">[ 整数1 -ne 整数2 ] 不等于</span><br><span class="line">[ 整数1 -lt 整数2 ] 小于</span><br><span class="line">[ 整数1 -le 整数2 ] 小于等于</span><br><span class="line">[ 整数1 -gt 整数2 ] 大于</span><br><span class="line">[ 整数1 -ge 整数2 ] 小大于等于 </span><br><span class="line"></span><br><span class="line">(())  [[]]  = != &gt; &gt;= &lt; &lt;=</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">for ((i=1;i&lt;=9;i++ ));do</span><br><span class="line">    for ((j=1;j&lt;=i;j++));do</span><br><span class="line">        echo -ne "$j\t"</span><br><span class="line">    done</span><br><span class="line">    echo</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>云计算基础</title>
    <url>/2019/10/28/%E4%BB%80%E4%B9%88%E6%98%AF%E4%BA%91%E8%AE%A1%E7%AE%97/</url>
    <content><![CDATA[<h3 id="什么是云计算"><a href="#什么是云计算" class="headerlink" title="什么是云计算"></a>什么是云计算</h3><p>简单的说，云计算是一种按量付费的模式！与计算的底层是通过虚拟化技术来实现的！</p><h3 id="云计算的服务类型"><a href="#云计算的服务类型" class="headerlink" title="云计算的服务类型"></a>云计算的服务类型</h3><p>IAAS 基础设施及服务     虚拟机/ecs/openstack </p><p>PAAS 平台及服务           PHP/JAVA/docker容器  </p><p>SAAS 软件及服务            企业邮箱服务/CND服务/RDS数据（开发+运维）</p><a id="more"></a>



<h3 id="为什么要用云计算"><a href="#为什么要用云计算" class="headerlink" title="为什么要用云计算"></a>为什么要用云计算</h3><p>提高资源利用率</p>
<p>大幅减少前期投资</p>
<p>更加灵活和自动化</p>
<p>具有更好的安全性</p>
<h3 id="云计算基础-–-KVM虚拟化"><a href="#云计算基础-–-KVM虚拟化" class="headerlink" title="云计算基础 – KVM虚拟化"></a>云计算基础 – KVM虚拟化</h3><h4 id="什么是虚拟化？"><a href="#什么是虚拟化？" class="headerlink" title="什么是虚拟化？"></a>什么是虚拟化？</h4><p>简单的说，是指通过虚拟化技术将一台计算机虚拟为多台计算机，每台虚拟的计算都可以运行不桶的操作系统，每台虚拟机之间都是完全隔离，互不影响的。</p>
<h4 id="虚拟化软件的差别"><a href="#虚拟化软件的差别" class="headerlink" title="虚拟化软件的差别"></a>虚拟化软件的差别</h4><p>*<em>qemu *</em>：软件纯模拟，全虚拟化软件。特别慢，AIX，兼容性好</p>
<p><strong>xen</strong>     ：性能特别好，需要使用专门修改之后的内核，兼容性差！</p>
<p>*<em>KVM *</em>  ：全虚拟机，有硬件支持CPU，基于内核，而且不需要使用专门的内核</p>
<h4 id="安装KVM虚拟化管理工具"><a href="#安装KVM虚拟化管理工具" class="headerlink" title="安装KVM虚拟化管理工具"></a>安装KVM虚拟化管理工具</h4><p>环境说明：</p>
<p>vmware 宿主机 kvm虚拟机</p>
<p>操作系统：centOS 7.6</p>
<p>IP规划：10.0.0.11</p>
<p>内存4G，CPU开启虚拟化</p>
<p>常规优化：关闭selinux 和firewalld</p>
<p><img src="E:%5C%E8%80%81%E7%94%B7%E5%AD%A9%E5%AD%A6%E4%B9%A0%5Cmd%E5%9B%BE%E7%89%87%5Cassets%5C1567433525738.png" alt="1567433525738"></p>
<p>安装软件</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install libvirt virt-install qemu-kvm -y</span><br><span class="line"></span><br><span class="line">libvirt 作用：虚拟机的管理软件</span><br><span class="line">libvirt: kvm,xen,qemu,lxc....</span><br><span class="line"></span><br><span class="line">virt virt-install virt-clone 作用：虚拟机的安装工具和克隆工具</span><br><span class="line">qemu-kvm qemu-img (qcow2,raw)作用：管理虚拟机的虚拟磁盘</span><br></pre></td></tr></table></figure>

<h4 id="安装一台kvm虚拟机"><a href="#安装一台kvm虚拟机" class="headerlink" title="安装一台kvm虚拟机"></a>安装一台kvm虚拟机</h4><h5 id="安装VNC-Viewer"><a href="#安装VNC-Viewer" class="headerlink" title="安装VNC-Viewer"></a>安装VNC-Viewer</h5><p>PC电脑端安装VNC</p>
<blockquote>
<p>VNC 远程控制的软件，与操作系统无关，因此可以跨平台使用。</p>
</blockquote>
<h5 id="启动libvirtd"><a href="#启动libvirtd" class="headerlink" title="启动libvirtd"></a>启动libvirtd</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">systemctl start libvirtd.service</span><br><span class="line">systemctl status libvirtd.service</span><br></pre></td></tr></table></figure>

<h5 id="将-CentOS-7-6-上传到-opt-目录下"><a href="#将-CentOS-7-6-上传到-opt-目录下" class="headerlink" title="将 CentOS 7.6 上传到/opt 目录下"></a>将 CentOS 7.6 上传到/opt 目录下</h5><h5 id="开始安装虚拟机操作系统"><a href="#开始安装虚拟机操作系统" class="headerlink" title="开始安装虚拟机操作系统"></a>开始安装虚拟机操作系统</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">virt-install --virt-type kvm --os-type=linux --os-variant rhel7 --name centos7 --memory 1024 --</span><br><span class="line">vcpus 1 --disk /opt/centos2.raw,format=raw,size=10 --cdrom /opt/CentOS-7-x86_64-DVD-1708.iso</span><br><span class="line">--network network=default --graphics vnc,listen=0.0.0.0 --noautoconsole</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参数说明：</span><br><span class="line">--virt-type kvm 	虚拟化的类型(qemu)</span><br><span class="line">--os-type=linux 	系统类型</span><br><span class="line">--os-variant rhel7 	系统版本</span><br><span class="line">--name centos7 	    虚拟机的名字</span><br><span class="line">--memory 1024	    虚拟机的内存</span><br><span class="line">--vcpus 1 		    虚拟cpu的核数</span><br><span class="line">--disk /opt/centos2.raw,format=raw,size=10	 设置类型与磁盘大小</span><br><span class="line">--cdrom /opt/CentOS-7-x86_64-DVD-1708.iso	 使用的光盘镜像</span><br><span class="line">--network network=default 					使用默认NAT的网络</span><br><span class="line">--graphics vnc,listen=0.0.0.0</span><br><span class="line">--noautoconsole</span><br></pre></td></tr></table></figure>

<blockquote>
<p>选择 第一个，按下<code>TAB</code>键，修改内网名称</p>
<p>net.ifname=0 biosdevname=0</p>
</blockquote>
<p><img src="E:%5C%E8%80%81%E7%94%B7%E5%AD%A9%E5%AD%A6%E4%B9%A0%5Cmd%E5%9B%BE%E7%89%87%5Cassets%5C1567435894967.png" alt="1567435894967"></p>
<blockquote>
<p>云主机都没有swap分区</p>
<p>为了提高虚拟机性能，不用创建swap分区</p>
</blockquote>
<h5 id><a href="#" class="headerlink" title></a><img src="E:%5C%E8%80%81%E7%94%B7%E5%AD%A9%E5%AD%A6%E4%B9%A0%5Cmd%E5%9B%BE%E7%89%87%5Cassets%5C1567436030501.png" alt="1567436030501"></h5><h4 id="kvm-虚拟机的virsh日常管理和配置"><a href="#kvm-虚拟机的virsh日常管理和配置" class="headerlink" title="kvm 虚拟机的virsh日常管理和配置"></a>kvm 虚拟机的virsh日常管理和配置</h4><p>列表 list</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">virsh list    		# 列表(只运行或挂载)</span><br><span class="line">virsh list --all	# 查看所有虚拟机</span><br></pre></td></tr></table></figure>

<p>开机 start</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">virsh start centos7</span><br></pre></td></tr></table></figure>

<p>关机 shutdown</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">virsh shutdown centos7</span><br></pre></td></tr></table></figure>

<p>拔电源关机 destroy</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">virsh destroy centos7</span><br></pre></td></tr></table></figure>

<p>导出配置文件  dumpxml</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">virsh dumpxml centos7  # 只打印到桌面</span><br><span class="line"></span><br><span class="line">virsh dumpxml centos7 &gt; centos7.off.xml</span><br></pre></td></tr></table></figure>



]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2019/10/28/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
